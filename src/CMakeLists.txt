PROJECT(ezlog VERSION 1.0.0 DESCRIPTION "ezlog static library")

FILE(GLOB_RECURSE INCLUDE_FILES
    ${PROJECT_SOURCE_DIR}/*.h
    ${PROJECT_SOURCE_DIR}/*.hpp
    ${CMAKE_SOURCE_DIR}/include/*.h
)

FILE(GLOB_RECURSE SOURCE_FILES 
    ${PROJECT_SOURCE_DIR}/*.c
    ${PROJECT_SOURCE_DIR}/*.cpp
)

SOURCE_GROUP("Header Files" FILES "${INCLUDE_FILES}")
SOURCE_GROUP("Source Files" FILES "${SOURCE_FILES}")

ADD_LIBRARY(
    ${PROJECT_NAME}
    STATIC
    ${INCLUDE_FILES}
    ${SOURCE_FILES}
)

IF(UNIX)
    SET(LINK_LIBS pthread)
ENDIF() # ENDIF UNIX

TARGET_LINK_LIBRARIES(
    ${PROJECT_NAME}
    ${LINK_LIBS}
)

INSTALL(
    TARGETS ezlog
    ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
)

SET_TARGET_PROPERTIES(${PROJECT_NAME} PROPERTIES VERSION ${PROJECT_VERSION} SOVERSION ${PROJECT_VERSION_MAJOR})