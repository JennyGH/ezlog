PROJECT(ezlog)

FILE(GLOB_RECURSE INCLUDE_FILES
    ${PROJECT_SOURCE_DIR}/*.h
    ${PROJECT_SOURCE_DIR}/*.hpp
    ${CMAKE_SOURCE_DIR}/include/*.h
)

FILE(GLOB_RECURSE SOURCE_FILES 
    ${PROJECT_SOURCE_DIR}/*.c
    ${PROJECT_SOURCE_DIR}/*.cpp
)
    
SOURCE_GROUP("Header Files" FILES "${INCLUDE_FILES}")
SOURCE_GROUP("Source Files" FILES "${SOURCE_FILES}")

ADD_LIBRARY(
    ${PROJECT_NAME}
    STATIC
    ${INCLUDE_FILES}
    ${SOURCE_FILES}
)

IF(UNIX)
    SET(LINK_LIBS pthread)
ENDIF() # ENDIF UNIX

TARGET_LINK_LIBRARIES(
    ${PROJECT_NAME}
    ${LINK_LIBS}
)

INSTALL(
    FILES
    ${CMAKE_BUILD_OUTPUT_DIR}/${LIB_PREFIX}${PROJECT_NAME}${STATIC_LIB_SUFFIX}
    DESTINATION
    ${CMAKE_INSTALL_PREFIX}
)